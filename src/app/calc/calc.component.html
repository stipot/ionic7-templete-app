<ion-header>
  <ion-toolbar color="primary">
    <ion-title>{{ isEnglish ? 'Calculator' : 'Калькулятор' }}</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="toggleLanguage()">
        <ion-icon [name]="isEnglish ? 'language' : 'language-outline'"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div class="calculator">
    <div class="mode-switcher-under-display">
      <ion-segment [value]="isExtendedMode ? 'scientific' : 'basic'" (ionChange)="toggleMode()">
        <ion-segment-button value="basic">
          <ion-label>{{ isEnglish ? 'Basic' : 'Обычный' }}</ion-label>
        </ion-segment-button>
        <ion-segment-button value="scientific">
          <ion-label>{{ isEnglish ? 'Advanced' : 'Расширенный' }}</ion-label>
        </ion-segment-button>
      </ion-segment>
    </div>

    <ion-input 
      [(ngModel)]="expression" 
      readonly 
      [placeholder]="isEnglish ? '0' : '0'" 
      class="display">
    </ion-input>

    <div class="buttons">
      <ion-button 
        *ngFor="let button of getCurrentButtons()"
        expand="block" 
        [color]="button.color" 
        (click)="handleButtonClick(button)"
        [class.extended-button]="button.color === 'tertiary'">
        {{ button.label }}
      </ion-button>
    </div>
  </div>
</ion-content>